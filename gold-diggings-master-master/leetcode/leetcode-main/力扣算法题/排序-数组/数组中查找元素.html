<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        // 输入：nums = [5,7,7,8,8,10], target = 8
        // 输出：[3,4]
        // 如果数组中不存在目标值 target，返回 [-1, -1]。 


        // 二分查找法, 记录当前left和right的值, 如果中心点与左右点重合, 则推出递归
        var searchRange = function (nums, target) {

            let res = [-1, -1]
            let index = nums.length - 1


            let left = 0
            let right = index
            let midIndex = Math.round((right - left) / 2)


            const deep = () => {
                if (target > nums[midIndex]) {
                    left = midIndex
                    midIndex = midIndex + Math.round((right - left) / 2)

                } else if (target < nums[midIndex]) {
                    right = midIndex
                    midIndex = midIndex - Math.round((right - left) / 2)
                }

                if (target == nums[midIndex]) {
                    let end = midIndex
                    let start = midIndex
                    while (nums[end] == target) {
                        end++
                    }
                    while (nums[start] == target) {
                        start--
                    }
                    res = [start + 1, end - 1]
                    return
                }

                if (midIndex > left && midIndex < right) {
                    deep()
                }
            }
            deep()

            return res
        };

        console.log(searchRange([1, 2], 2));

    </script>
</body>

</html>