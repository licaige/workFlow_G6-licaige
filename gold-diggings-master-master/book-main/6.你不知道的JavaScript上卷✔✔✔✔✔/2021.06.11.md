## 第5章：作用域闭包

>精力。

- 1.闭包。

- 2.对于那些有一点JavaScript使用经验但从未真正理解闭包概念的人来说，理解闭包可以看作是某种意义上的重生，但是需要付出非常多的努力和牺牲才能理解这个概念。 --摘抄

>这句话可以看出来闭包在JS中是有多么的重要。

- 3.JavaScript中闭包无处不在，你只需要能够识别并拥抱它。 --摘抄

- 4.闭包是基于词法作用域书写代码时所产生的自然结果，你甚至不需要为了利用它们而有意识地创建闭包。闭包的创建和使用在你的代码中随处可见。你缺少的是根据你自己的意愿来识别、拥抱和影响闭包的思维环境。 --摘抄

- 5.当函数可以记住并访问所在的词法作用域时，就产生了闭包，即使函数是在当前词法作用域之外执行。 --摘抄

- 6.这个函数在定义时的词法作用域以外的地方被调用。闭包使得函数可以继续访问定义时的词法作用域。 --摘抄

- 7.无论使用何种方式对函数类型的值进行传递，当函数在别处被调用时都可以观察到闭包。 --摘抄

- 8.无论通过何种手段将内部函数传递到所在的词法作用域以外，它都会持有对原始定义作用域的引用，无论在何处执行这个函数都会使用闭包。 --摘抄

- 9.在定时器、事件监听器、Ajax请求、跨窗口通信、Web Workers或者任何其他的异步（或者同步）任务中，只要使用了回调函数，实际上就是在使用闭包。 --摘抄

>执行完函数，函数内的东西没有销毁，其实就是使用了闭包，闭包让函数内的东西没有销毁。

- 10.尽管技术上来讲，闭包是发生在定义时的，但并不非常明显，就好像六祖慧能所说：“既非风动，亦非幡动，仁者心动耳。” --摘抄

- 11.IIFE的确创建了闭包。

- 12.什么时闭包？

>函数在当前作用域之外执行。

- 13.let本质上是将一个块转换成一个可以被关闭的作用域。 --摘抄

- 14.块作用域和闭包联手便可以天下无敌。不知道你是什么情况，反正这个功能让我成为一名快乐的JavaScript程序员。 --摘抄

- 15.模块模式利用了闭包强大的威力。 --摘抄

- 16.最常见的实现模块模式的方法通常被称为模块暴露。 --摘抄

- 17.如果不执行外部函数，内部作用域和闭包都无法被创建。 --摘抄

- 18.我们保持内部数据变量是隐藏且私有的状态。可以将这个对象类型的返回值看作本质上是模块的公共API。 --摘抄

- 19.当通过返回一个含有属性引用的对象的方式来将函数传递到词法作用域外部时，我们已经创造了可以观察和实践闭包的条件。 --摘抄

- 20.模块模式需要具备两个必要条件：

>1.必须有外部的封闭函数，该函数必须至少被调用一次（每次调用都会创建一个新的模块实例）。

>2.封闭函数必须返回至少一个内部函数，这样内部函数才能在私有作用域中形成闭包，并且可以访问或者修改私有的状态。 --摘抄

- 21.一个从函数调用所返回的，只有数据属性而没有闭包函数的对象并不是真正的模块。 --摘抄

- 22.单例模式。

- 总结：闭包是不是JS中非常重要的一个概念？什么是闭包？IIFE是什么？let的本质是什么？

>是的，闭包是JS中的一个非常重要的概念，所以这里会花单独的一章来讲闭包。

>当函数在当前作用域外执行的时候就产生了闭包。

>IIFE英文全称是 Immediately Invoked Function Expression，立即执行函数表达式。

>let的本质是将一个块作用域转换成了一个可以关闭的作用域。
