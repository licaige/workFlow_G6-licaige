## 前言

>本质。

- 1.由于JavaScript不必理解就可以使用，因此通常来说很难真正理解语言本身，这就是我们面临的挑战。 --摘抄

>想成为一个JavaScript高手，必然要了解JavaScript底层概念。想做好前端开发，不仅要了解JavaScript，还要了解浏览器。

- 2.遇到困难，不是退缩，而是直面和前进。

- 3.走“少有人走的路”，拥抱整个JavaScript。

- 4.并不是说JavaScript在某个点在某种情况下有缺陷你就抛弃它，而是要了解该在某种合适的情景下去使用它。

- 5.当开发者感到迷惑时，他们通常会责怪语言本身，而不是怪自己对语言缺乏了解。 --摘抄

>态度和行为，其实是行为决定了态度，所以说平常我们需要注意我们的行为态度，这种东西很明显不是语言本身的问题，想改变一件事物，先改变自己。

- 6.欣赏JavaScript。

## 第一部分 作用域和闭包

>学习与复习。

- 1.极强的求知欲。

- 2.我经常寻找解决问题或修复bug的最佳方法，却很少花时间来研究我所使用的工具。 --摘抄

- 3.对JavaScript工作原理每一个细节的批判性思考会渗透到你的思考过程和日常工作中。知其然，也要知其所以然。 --摘抄

## 第一章 作用域是什么

>求知若渴，虚心若愚。

- 1.什么是作用域？

>一套用来存储变量的规则。

- 2.编译原理。

- 3.分词/词法分析。

- 4.解析/语法分析。

>抽象语法树。

- 5.代码生成。

- 6.在语法分析和代码生成阶段有特定的步骤对运行性能进行优化，包括对冗余元素进行优化等。 --摘抄

>JavaScript解析器：V8引擎。

- 7.JavaScript的编译过程不是发生在构建之前的。 --摘抄

>那么也就说利用webpack这些工程化工具先构建一遍是可以优化性能的。

- 8.JavaScript引擎用尽了各种办法（比如JIT，可以延迟编译甚至实施重编译）来保证性能最佳。 --摘抄

- 9.编译和执行是2个过程。

- 10.作用域，引擎的另一位好朋友，负责收集并维护由所有声明的标识符（变量）组成的一系列查询，并实施一套非常严格的规则，确定当前执行的代码对这些标识符的访问权限。 --摘抄

- 11.知彼解己。

- 12.事实上，引擎认为这里有两个完全不同的声明，一个由编译器在编译时处理，另一个则由引擎在运行时处理。 --摘抄

- 13.var a = 2，这段代码块其实可以分为2个部分，一个部分是var a，这个会由编译器执行，如果前面声明过a这个变量，那么var a将被忽略，如果前面没有声明过这个变量，那么编译器就会声明一个a变量，然后a = 2，引擎会先去找存不存在a这个变量，如果不存在，就报错，存在的话就将2赋值给这个a变量。

- 14.引擎查找变量的过程是由作用域进行协助进行的，但是引擎执行怎样的查找，会影响最终的查找结果。 --摘抄

- 15.LHS查询（左查询），RHS查询（右查询）。

>左右指的是一个赋值操作的左侧和右侧。

- 16.a = 2这段代码会执行LHS，因为引擎会先去找a存不存在，然后再进行赋值操作，如果不存在的话还需要报错。

- 17.函数传参的时候其实隐藏了一个LHS查询。

- 18.将函数声明理解成前面讨论的LHS查询和赋值的形式并不合适。 --摘抄

- 19.遍历嵌套作用域链的规则很简单：引擎从当前的执行作用域开始查找变量，如果找不到，就向上一级继续查找。当抵达最外层的全局作用域时，无论找到还是没找到，查找过程都会停止。 --摘抄

>也就是说作用域链查找的终点是最外层作用域。

- 20.作用域链可以比喻为建筑。

- 21.LHS和RHS引用都会在当前楼层进行查找，如果没找到，就会坐电梯前往上一层楼，如果还是没有找到就继续向上，以此类推。一旦抵达顶层（全局作用域），可能找到了你所需的变量，也可能没找到，但无论如何查找过程都将停止。 --摘抄

>电梯是不能连接建筑外的。

- 总结：什么才是真正的学会JavaScript？想改变一件事情，我们应该先改变什么？修bug花费的时间和用来研究我们所使用的工具所花的时间哪个更值得？什么是作用域？引擎查询分哪2种？作用域可以比喻成什么？

>了解和理解全面的JavaScript才是真正的学会JavaScript。

>想改变一件事情，我们应该先改变对这件事情的看法，也就是先改变我们自己，这是尤为重要的。

>我们用来研究工具所花费的时间显然更加值得，因为了解我们所使用的工具越全面，我们写出的代码出bug的几率就越小，这是一个正循环。磨刀不误砍柴工，永远正确的一句话。知其然，也要知其所以然。

>作用域是一套用来储存变量的规则。

>引擎查询分LHS和RHS。

>作用域可以比喻成一幢建筑，电梯可以看作是查询的方式。
