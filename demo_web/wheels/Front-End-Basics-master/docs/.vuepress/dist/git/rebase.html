<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>实用的 git 协作 | Front-End-Basics</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="陈方旭的个人文档">
    
    <link rel="preload" href="/assets/css/0.styles.495d9abf.css" as="style"><link rel="preload" href="/assets/js/app.26ddf859.js" as="script"><link rel="preload" href="/assets/js/2.0a0a1bce.js" as="script"><link rel="preload" href="/assets/js/8.5ca23337.js" as="script"><link rel="prefetch" href="/assets/js/10.7fd8ce8b.js"><link rel="prefetch" href="/assets/js/100.e2e655f5.js"><link rel="prefetch" href="/assets/js/101.03d0acad.js"><link rel="prefetch" href="/assets/js/102.2f60b5a6.js"><link rel="prefetch" href="/assets/js/103.c5e7eb0b.js"><link rel="prefetch" href="/assets/js/104.d493f2a3.js"><link rel="prefetch" href="/assets/js/105.c27b5e53.js"><link rel="prefetch" href="/assets/js/106.819ca6ce.js"><link rel="prefetch" href="/assets/js/107.d60fe526.js"><link rel="prefetch" href="/assets/js/108.33cfb7ed.js"><link rel="prefetch" href="/assets/js/109.004e3009.js"><link rel="prefetch" href="/assets/js/11.b58cc63a.js"><link rel="prefetch" href="/assets/js/110.ffa5fbbc.js"><link rel="prefetch" href="/assets/js/111.f3073fff.js"><link rel="prefetch" href="/assets/js/112.3c09cbc0.js"><link rel="prefetch" href="/assets/js/113.b19590e6.js"><link rel="prefetch" href="/assets/js/114.b802a814.js"><link rel="prefetch" href="/assets/js/115.ef4a42a7.js"><link rel="prefetch" href="/assets/js/116.ba312c6c.js"><link rel="prefetch" href="/assets/js/117.3c81d39e.js"><link rel="prefetch" href="/assets/js/118.06a46444.js"><link rel="prefetch" href="/assets/js/119.49125678.js"><link rel="prefetch" href="/assets/js/12.588d1122.js"><link rel="prefetch" href="/assets/js/120.6caa767c.js"><link rel="prefetch" href="/assets/js/121.cad653d5.js"><link rel="prefetch" href="/assets/js/122.b54e599c.js"><link rel="prefetch" href="/assets/js/123.bcf93ede.js"><link rel="prefetch" href="/assets/js/124.f7768fe4.js"><link rel="prefetch" href="/assets/js/125.2dc9e948.js"><link rel="prefetch" href="/assets/js/126.a0a3e110.js"><link rel="prefetch" href="/assets/js/127.32cae0cf.js"><link rel="prefetch" href="/assets/js/128.391dd8b6.js"><link rel="prefetch" href="/assets/js/129.d7ec7c07.js"><link rel="prefetch" href="/assets/js/13.f855b112.js"><link rel="prefetch" href="/assets/js/130.514a6b2e.js"><link rel="prefetch" href="/assets/js/131.af6e4770.js"><link rel="prefetch" href="/assets/js/132.b5eb4428.js"><link rel="prefetch" href="/assets/js/133.278c6032.js"><link rel="prefetch" href="/assets/js/134.8b4fbfea.js"><link rel="prefetch" href="/assets/js/135.af8c3010.js"><link rel="prefetch" href="/assets/js/136.e8d50939.js"><link rel="prefetch" href="/assets/js/137.062c9279.js"><link rel="prefetch" href="/assets/js/138.748f625e.js"><link rel="prefetch" href="/assets/js/139.c8d452ba.js"><link rel="prefetch" href="/assets/js/14.706c60f4.js"><link rel="prefetch" href="/assets/js/140.e3d090bc.js"><link rel="prefetch" href="/assets/js/141.76309f02.js"><link rel="prefetch" href="/assets/js/142.badcfbea.js"><link rel="prefetch" href="/assets/js/143.9444172a.js"><link rel="prefetch" href="/assets/js/144.6811b2cb.js"><link rel="prefetch" href="/assets/js/145.760e53a6.js"><link rel="prefetch" href="/assets/js/146.6a021bf1.js"><link rel="prefetch" href="/assets/js/147.1a09e987.js"><link rel="prefetch" href="/assets/js/148.4a2102a6.js"><link rel="prefetch" href="/assets/js/149.e4992bc8.js"><link rel="prefetch" href="/assets/js/15.dddbfaa5.js"><link rel="prefetch" href="/assets/js/150.bf99144d.js"><link rel="prefetch" href="/assets/js/151.6cae69ac.js"><link rel="prefetch" href="/assets/js/152.e5a32ff0.js"><link rel="prefetch" href="/assets/js/153.5ec16bda.js"><link rel="prefetch" href="/assets/js/154.b99016d2.js"><link rel="prefetch" href="/assets/js/155.330ba388.js"><link rel="prefetch" href="/assets/js/156.272c4fdd.js"><link rel="prefetch" href="/assets/js/157.37f7adc8.js"><link rel="prefetch" href="/assets/js/158.dd412e9f.js"><link rel="prefetch" href="/assets/js/159.92108a41.js"><link rel="prefetch" href="/assets/js/16.e52b2f0e.js"><link rel="prefetch" href="/assets/js/160.691be0a2.js"><link rel="prefetch" href="/assets/js/161.25591efd.js"><link rel="prefetch" href="/assets/js/162.d383ff2b.js"><link rel="prefetch" href="/assets/js/163.b086f272.js"><link rel="prefetch" href="/assets/js/164.51ec1769.js"><link rel="prefetch" href="/assets/js/165.5101617a.js"><link rel="prefetch" href="/assets/js/166.4adb994b.js"><link rel="prefetch" href="/assets/js/167.d0ab2ea3.js"><link rel="prefetch" href="/assets/js/168.57a9a221.js"><link rel="prefetch" href="/assets/js/169.d6830258.js"><link rel="prefetch" href="/assets/js/17.0668268a.js"><link rel="prefetch" href="/assets/js/170.a1c94b18.js"><link rel="prefetch" href="/assets/js/171.758c4100.js"><link rel="prefetch" href="/assets/js/172.a390e082.js"><link rel="prefetch" href="/assets/js/173.6a612dab.js"><link rel="prefetch" href="/assets/js/174.323cd630.js"><link rel="prefetch" href="/assets/js/175.d2d192f7.js"><link rel="prefetch" href="/assets/js/176.83699347.js"><link rel="prefetch" href="/assets/js/177.58e2a96f.js"><link rel="prefetch" href="/assets/js/178.f20d6711.js"><link rel="prefetch" href="/assets/js/179.246c5b5d.js"><link rel="prefetch" href="/assets/js/18.1ec934a2.js"><link rel="prefetch" href="/assets/js/180.99a7cd1a.js"><link rel="prefetch" href="/assets/js/181.8b2ed6c7.js"><link rel="prefetch" href="/assets/js/182.465f06b6.js"><link rel="prefetch" href="/assets/js/183.d5e9d2a9.js"><link rel="prefetch" href="/assets/js/184.34cddded.js"><link rel="prefetch" href="/assets/js/185.c7a7ab75.js"><link rel="prefetch" href="/assets/js/186.dd1d0e7d.js"><link rel="prefetch" href="/assets/js/187.9655d4c4.js"><link rel="prefetch" href="/assets/js/188.e51e42cf.js"><link rel="prefetch" href="/assets/js/189.7107e215.js"><link rel="prefetch" href="/assets/js/19.b3a69aa1.js"><link rel="prefetch" href="/assets/js/190.aea451e0.js"><link rel="prefetch" href="/assets/js/191.4aa4329e.js"><link rel="prefetch" href="/assets/js/192.d1eb7eb6.js"><link rel="prefetch" href="/assets/js/193.84be6ed1.js"><link rel="prefetch" href="/assets/js/194.d27bdfcd.js"><link rel="prefetch" href="/assets/js/195.bd0371b6.js"><link rel="prefetch" href="/assets/js/20.4833415c.js"><link rel="prefetch" href="/assets/js/21.623aae45.js"><link rel="prefetch" href="/assets/js/22.0f922dba.js"><link rel="prefetch" href="/assets/js/23.c71d9286.js"><link rel="prefetch" href="/assets/js/24.6331e619.js"><link rel="prefetch" href="/assets/js/25.aebbd191.js"><link rel="prefetch" href="/assets/js/26.4a350a9e.js"><link rel="prefetch" href="/assets/js/27.f0593bbf.js"><link rel="prefetch" href="/assets/js/28.3a3be2a5.js"><link rel="prefetch" href="/assets/js/29.600006cd.js"><link rel="prefetch" href="/assets/js/3.de0ded1b.js"><link rel="prefetch" href="/assets/js/30.fd1bf4df.js"><link rel="prefetch" href="/assets/js/31.c17eec63.js"><link rel="prefetch" href="/assets/js/32.0beb9489.js"><link rel="prefetch" href="/assets/js/33.4b356132.js"><link rel="prefetch" href="/assets/js/34.426a3957.js"><link rel="prefetch" href="/assets/js/35.9e58f8ae.js"><link rel="prefetch" href="/assets/js/36.b304f65d.js"><link rel="prefetch" href="/assets/js/37.102918ae.js"><link rel="prefetch" href="/assets/js/38.b306427b.js"><link rel="prefetch" href="/assets/js/39.8a7ddc82.js"><link rel="prefetch" href="/assets/js/4.6aeff477.js"><link rel="prefetch" href="/assets/js/40.15b85e4a.js"><link rel="prefetch" href="/assets/js/41.7194c6a5.js"><link rel="prefetch" href="/assets/js/42.40d604fe.js"><link rel="prefetch" href="/assets/js/43.1308a197.js"><link rel="prefetch" href="/assets/js/44.a600e34c.js"><link rel="prefetch" href="/assets/js/45.07f1aea4.js"><link rel="prefetch" href="/assets/js/46.ef1cd999.js"><link rel="prefetch" href="/assets/js/47.31ae8f23.js"><link rel="prefetch" href="/assets/js/48.546ddc2b.js"><link rel="prefetch" href="/assets/js/49.6256155f.js"><link rel="prefetch" href="/assets/js/5.3017579e.js"><link rel="prefetch" href="/assets/js/50.9023bd20.js"><link rel="prefetch" href="/assets/js/51.9c0ab442.js"><link rel="prefetch" href="/assets/js/52.e2cc1558.js"><link rel="prefetch" href="/assets/js/53.2a34ee52.js"><link rel="prefetch" href="/assets/js/54.94919a07.js"><link rel="prefetch" href="/assets/js/55.cdcde14b.js"><link rel="prefetch" href="/assets/js/56.402b91d1.js"><link rel="prefetch" href="/assets/js/57.1c816075.js"><link rel="prefetch" href="/assets/js/58.7bc6c53a.js"><link rel="prefetch" href="/assets/js/59.98cd16d3.js"><link rel="prefetch" href="/assets/js/6.c66a9c0d.js"><link rel="prefetch" href="/assets/js/60.c6b1fedf.js"><link rel="prefetch" href="/assets/js/61.77a37644.js"><link rel="prefetch" href="/assets/js/62.33adbccc.js"><link rel="prefetch" href="/assets/js/63.46e827aa.js"><link rel="prefetch" href="/assets/js/64.fccc6652.js"><link rel="prefetch" href="/assets/js/65.784409bc.js"><link rel="prefetch" href="/assets/js/66.0ff33975.js"><link rel="prefetch" href="/assets/js/67.71025c8a.js"><link rel="prefetch" href="/assets/js/68.bc956963.js"><link rel="prefetch" href="/assets/js/69.0835dc3a.js"><link rel="prefetch" href="/assets/js/7.abbb8cf3.js"><link rel="prefetch" href="/assets/js/70.b4997331.js"><link rel="prefetch" href="/assets/js/71.c555d255.js"><link rel="prefetch" href="/assets/js/72.410045e4.js"><link rel="prefetch" href="/assets/js/73.f11bc054.js"><link rel="prefetch" href="/assets/js/74.b0b7f602.js"><link rel="prefetch" href="/assets/js/75.564b469f.js"><link rel="prefetch" href="/assets/js/76.dc701916.js"><link rel="prefetch" href="/assets/js/77.2f2e86ba.js"><link rel="prefetch" href="/assets/js/78.293c88ac.js"><link rel="prefetch" href="/assets/js/79.188e3f3f.js"><link rel="prefetch" href="/assets/js/80.12817fd5.js"><link rel="prefetch" href="/assets/js/81.20822295.js"><link rel="prefetch" href="/assets/js/82.827507e9.js"><link rel="prefetch" href="/assets/js/83.2669bc92.js"><link rel="prefetch" href="/assets/js/84.587c39a1.js"><link rel="prefetch" href="/assets/js/85.acc07148.js"><link rel="prefetch" href="/assets/js/86.b0c041c1.js"><link rel="prefetch" href="/assets/js/87.d437a0f0.js"><link rel="prefetch" href="/assets/js/88.6e542ac8.js"><link rel="prefetch" href="/assets/js/89.dc44df50.js"><link rel="prefetch" href="/assets/js/9.8b8ba95c.js"><link rel="prefetch" href="/assets/js/90.61a1b726.js"><link rel="prefetch" href="/assets/js/91.3f4b2a8a.js"><link rel="prefetch" href="/assets/js/92.cd3aa7ff.js"><link rel="prefetch" href="/assets/js/93.ce269678.js"><link rel="prefetch" href="/assets/js/94.b5bf35e9.js"><link rel="prefetch" href="/assets/js/95.412f527b.js"><link rel="prefetch" href="/assets/js/96.9af6b5f0.js"><link rel="prefetch" href="/assets/js/97.ffe88ff0.js"><link rel="prefetch" href="/assets/js/98.9c55d95f.js"><link rel="prefetch" href="/assets/js/99.b9b8c7f7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.495d9abf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Front-End-Basics" class="logo"> <span class="site-name can-hide">Front-End-Basics</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  捡贝壳
</a></div> <a href="https://github.com/qiqihaobenben/Front-End-Basics" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/article/" class="nav-link">
  捡贝壳
</a></div> <a href="https://github.com/qiqihaobenben/Front-End-Basics" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Git 入门</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/git/intro.html" class="sidebar-link">版本控制系统简介</a></li><li><a href="/git/workflow.html" class="sidebar-link">安装和入门</a></li><li><a href="/git/theory.html" class="sidebar-link">基础和原理</a></li><li><a href="/git/directory.html" class="sidebar-link">目录讲解</a></li><li><a href="/git/setconfig.html" class="sidebar-link">Git 配置和.gitignore</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>命令&amp;实践</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/git/command.html" class="sidebar-link">Git 常用命令</a></li><li><a href="/git/commit.html" class="sidebar-link">让你的 commit 更有价值</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="实用的-git-协作"><a href="#实用的-git-协作" class="header-anchor">#</a> 实用的 git 协作</h1> <p>一个人鼓捣自己的工具，或者在一个小团队中开发时，大家可能并没有特别在意项目中 commit 是什么鬼样子。但是如果身处一个比较大的团队，采用的是 github 类似的工作流，大家都是独特而有趣的个体，如果放飞自我的话，你会看到有些同学可能在用意念写 commit messages，并且富有诗意，有些同学一个功能就加两行代码，还要提交四五个 commit，并且大家乐此不疲的在各种分支上合来合去，Merge branch 的方向总是飘忽不定，而且还会出现大量无意义的合并信息。</p> <p>下面列举几个实际工作中会出现的问题，先简单说一下解决方案，然后再详细展开聊一下。</p> <h4 id="问题-1-commit-messages-不规范"><a href="#问题-1-commit-messages-不规范" class="header-anchor">#</a> 问题 1：commit messages 不规范</h4> <p>想要写出条理清晰且重点突出的 commit messages 是可以用工具辅助的，在之前一篇<a href="https://chenfangxu.lap.360.cn/assistive-tools/git/commit.html" target="_blank" rel="noopener noreferrer">《让你的 commit 更有价值》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中介绍了 commit 的规范和实践。</p> <h4 id="问题-2-一个小功能分多次提交"><a href="#问题-2-一个小功能分多次提交" class="header-anchor">#</a> 问题 2：一个小功能分多次提交</h4> <p>git 的最佳实践有一条是原子性提交（atomic commits），在意在一定程度上解决这个问题。但是如果你开发了一个较大的功能，里面分了几步实现，然后 pull request 的话，作者很可能会让你把 commit 合并成一个然后提交，因为中间怎么实现这个功能的细节可以省略，有助于开源项目 git 历史清晰简洁，这个时候 git rebase 就可以解决这个问题。</p> <h4 id="_3-commit-messages-中包含了大量的错综复杂的合并"><a href="#_3-commit-messages-中包含了大量的错综复杂的合并" class="header-anchor">#</a> 3：commit messages 中包含了大量的错综复杂的合并</h4> <p>在只有你一个人开发的分支上，需要同步远程分支的最新更改，可以使用 git rebase ，这样就能避免因为同步分支导致的意义不大的合并，保持 git 提交历史记录的清爽。</p> <h2 id="原子性提交"><a href="#原子性提交" class="header-anchor">#</a> 原子性提交</h2> <p><img src="/assets/img/rebase1.fcfcd8f2.png" alt="标注红框的两次提交可以等一个功能真正完成后再进行提交"></p> <p>简单模拟了几次提交，可以看到即使遵循提交规范，如果每次提交不按照原子性提交的话，通过 commit messages 看到的信息也会没有重点。</p> <p>原子性本意指的是在一个大型系统中，形成一个不可分割的最简单单元或组件。原子性提交的意思就很明确了，提交的代码变动应该是尽可能的小而完整，包含一个不可分割的 feature 、 fix 等。</p> <h3 id="原子性提交的实践经验"><a href="#原子性提交的实践经验" class="header-anchor">#</a> 原子性提交的实践经验</h3> <h4 id="_1、一个较小的功能尽量开发完再提交-如果是个很大的功能-那-再往下看。"><a href="#_1、一个较小的功能尽量开发完再提交-如果是个很大的功能-那-再往下看。" class="header-anchor">#</a> 1、一个较小的功能尽量开发完再提交，如果是个很大的功能，那 ~ 再往下看。</h4> <h4 id="_2、提交变动文件时只提交跟当前完成的功能相关的"><a href="#_2、提交变动文件时只提交跟当前完成的功能相关的" class="header-anchor">#</a> 2、提交变动文件时只提交跟当前完成的功能相关的</h4> <p>我们在开发时，很可能存在某些代码跟当前要提交的这个功能不相关，所以在提交代码时， 可以用 <code>git add</code> 将功能相关的文件添加到暂存区，然后再执行提交。</p> <h4 id="如果跟当前完成的功能不相干的变动在同一个文件的时候-可以使用-git-add-patch-或者-git-add-p-来实现文件局部的暂存提交。"><a href="#如果跟当前完成的功能不相干的变动在同一个文件的时候-可以使用-git-add-patch-或者-git-add-p-来实现文件局部的暂存提交。" class="header-anchor">#</a> 如果跟当前完成的功能不相干的变动在同一个文件的时候，可以使用 <code>git add --patch</code> 或者 <code>git add -p</code> 来实现文件局部的暂存提交。</h4> <div class="language- extra-class"><pre class="language-text"><code># git add -p 执行后，会在最后一行问你要不要暂存当前块 Stage this hunk [y/n/a/d/K/j/J/e/?]?

y - 暂存当前块
n - 不暂存当前块
a - 暂存，并且之后的所有块都暂存
d - 不暂存，并且之后的所有块都不暂存
s - 将当前块分成更小的块
e - 可以让你手动编辑当前块
</code></pre></div><p><img src="/assets/img/rebase2.c38c9a9d.png" alt=""></p> <h2 id="git-rebase"><a href="#git-rebase" class="header-anchor">#</a> git rebase</h2> <p><img src="/assets/img/rebase1.fcfcd8f2.png" alt=""></p> <p>还是之前这张图，有同学说我开发的功能很大，而且要每天提交一下，因为怕发生各种奇怪的事情，导致电脑不能用了（丢了，进水，或者硬盘烧掉了），高频率的保持代码同步到远程仓库是个好习惯，风险意识很强。但是最后合并到主分支（或者主开发分支）时，就需要把属于一个功能的多次提交合并到一个。</p> <h3 id="git-rease-合并多次提交记录。"><a href="#git-rease-合并多次提交记录。" class="header-anchor">#</a> git rease 合并多次提交记录。</h3> <p>就拿上面那张截图中“修改第一个功能”相关的提交举例，我们把它们合并成一个提交。</p> <p>git rebase -i 或者 git rebase --interactive ,这个命令把要 rebase 的提交记录列出来，用户在 git 编辑器中通过不同的指令来选择提交记录的合并，排序，删除等。</p> <p>执行 <code>git rebase -i HEAD~6</code>，把要合并的 commit id 前面的 <code>pick</code> 改成 <code>s</code> 或者 <code>squash</code>，要注意一下截图中改成 <code>s</code> 的位置，是把上一个提交合进来。</p> <p><img src="/assets/img/rebase3.8ad91e28.png" alt=""></p> <div class="language- extra-class"><pre class="language-text"><code># p, pick &lt;commit&gt; = 保留这个提交
# r, reword &lt;commit&gt; = 保留这个提交，不过要修改一下 commit messages
# e, edit &lt;commit&gt; = 保留这个提交，不过要暂停一下去执行修改
# s, squash &lt;commit&gt; = 保留这个提交，不过会把上一个提交合进来
# f, fixup &lt;commit&gt; = 类似 &quot;squash&quot;, 不过要丢弃此提交的 commit messages
# b, break = rebase 到此为止
# d, drop &lt;commit&gt; = 移除提交
</code></pre></div><p>修改合并后要提交的 commit messages</p> <p><img src="/assets/img/rebase4.9acfdb20.png" alt=""></p> <p>合并后的提交历史如下：</p> <p><img src="/assets/img/rebase5.79d387ff.png" alt=""></p> <h4 id="注意"><a href="#注意" class="header-anchor">#</a> 注意！！！</h4> <p>因为 <code>git rebase -i</code> 实际上是丢弃了之前的提交重新生成了新的提交，仔细看能发现 commit id 已经变了，所以使用 <code>git rebase -i</code> 修改提交记录的操作尽量在 commit 没有 push 到远程分支之前，如果想要修改已经同步到远程分支的提交记录，修改后，需要用 <code>git push -f</code> 来强制覆盖远程分支，谨慎操作，确保远程分支只有你一个人在使用。</p> <p>https://zhuanlan.zhihu.com/p/29497618</p> <p>https://segmentfault.com/a/1190000005937408</p> <p>http://gitbook.liuhui998.com/4_2.html</p> <p>https://blog.csdn.net/gtlbtnq9mr3/article/details/80222523</p> <p>https://cloud.tencent.com/developer/news/231201</p> <p>https://www.cnblogs.com/kidsitcn/p/5339382.html</p> <p>https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA</p> <p>https://juejin.im/post/6844903638070984718</p> <h3 id="变基"><a href="#变基" class="header-anchor">#</a> 变基</h3> <blockquote><p>可以使用 <code>rebase</code> 命令将提交到某一分支上的所有修改都移至另一分支上，就好像“重新播放”一样，这种操作叫 <code>变基（rebase）</code> 。</p></blockquote> <h4 id="普通的-merge-操作"><a href="#普通的-merge-操作" class="header-anchor">#</a> 普通的 merge 操作</h4> <div class="language- extra-class"><pre class="language-text"><code>git merge experiment
</code></pre></div><p><img src="data:image/png;base64,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" alt=""></p> <p>最普通且容易的 <code>merge</code> 命令会把两个分支的最新快照（C3 和 C4）以及二者最近的共同祖先（C2）进行三方合并，合并的结果是生成一个新的快照（并提交）。最大的特点是<strong>会在 git 提交历史中增加一个意义并不是很大的 C5 提交</strong></p> <h4 id="变基操作"><a href="#变基操作" class="header-anchor">#</a> 变基操作</h4> <ul><li>简单的变基</li></ul> <p>举个例子：检出 <code>experiment</code> 分支，然后将它变基到 <code>master</code> 分支上</p> <div class="language- extra-class"><pre class="language-text"><code>git checkout experiment
git rebase master
git checkout master
git merge experiment
</code></pre></div><p><img src="data:image/png;base64,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" alt=""></p> <p>它的原理是首先找到这两个分支（即当前分支 experiment、变基操作的目标基底分支 master） 的最近共同祖先 <code>C2</code>，然后对比当前分支相对于该祖先的历次提交，提取相应的修改并存为临时文件存在 <code>.git/rebase</code> 目录下 ， 然后将当前分支指向目标基底 <code>C3</code>, 最后依次将之前另存为临时文件的修改应用到当前分支。上图的 <code>C4'</code> 跟上一个例子的 <code>C5</code> 内容时一样的。两种合并的方法最终结果没有任何区别，但是变基使得提交历史更加简洁。</p> <ul><li>复杂的变基</li></ul> <h3 id="异常处理和其他命令"><a href="#异常处理和其他命令" class="header-anchor">#</a> 异常处理和其他命令</h3> <p>在 rebase 过程中，也许会出现冲突。在这种情况，git 会停止 rebase 让你去解决冲突。解决完冲突后，用 git add 重新暂存这些内容。</p> <div class="language- extra-class"><pre class="language-text"><code>// 异常情况退出或者需要重新进入编辑时
git rebase --edit-todo

// 继续 rebase 后续的操作
git rebase --continue

// 撤销 rebase 操作
git rebase --abort

// 查看已经删除或者合并的 commit id ，你懂的
git reflog
</code></pre></div><h4 id="注意-2"><a href="#注意-2" class="header-anchor">#</a> 注意！！！</h4> <p>通过变基的原理可以知道，git rebase 是一个危险命令，它丢弃了之前的提交，生成了新的提交，所以它会改变历史。只要你的分支上需要 rebase 的所有 commit 没有被 push 到远程，是可以安全进行 <code>git rebase</code> 操作。如果想要 rebase 已经推到远程的 commit，请谨慎操作，确保只有你一个人在使用当前远程分支。</p> <h3 id="原子性提交和使用-git-rebase-的好处"><a href="#原子性提交和使用-git-rebase-的好处" class="header-anchor">#</a> 原子性提交和使用 git rebase 的好处</h3> <ul><li><p>对 code review 更友好
遵循原子性提交，一个较小功能的代码只出现在一次提交中，很容易 code review 。如果一个较大功能的代码，在开发中随时同步到远程仓库，让其他同学可以随时方便的 code review，合并进主分支时使用 git rebase 把多次提交合并成一次即可。</p></li> <li><p>更容易回滚</p></li></ul> <p>原子性提交和 git rebase 都可以减少项目中无意义（或者意义不大的）commit，如果想要回滚，可以清晰快速的找到想回滚的 commit。</p> <h2 id="git-工作流"><a href="#git-工作流" class="header-anchor">#</a> git 工作流</h2> <p>http://www.qtcn.org/bbs/simple/?t53628.html</p> <p>https://juejin.im/post/6844903895160881166</p> <p>https://github.com/selfteaching/the-craft-of-selfteaching/issues/67</p> <p>https://233px.com/15272402756177.html</p> <p>https://segmentfault.com/a/1190000002918123</p> <p>https://github.com/xirong/my-git/blob/master/git-workflow-tutorial.md</p> <p>https://www.jianshu.com/p/efcc848798ee</p> <p>https://juejin.im/post/6844904131115614221</p> <h2 id="补充操作"><a href="#补充操作" class="header-anchor">#</a> 补充操作</h2> <h4 id="因为各种原因-想要取消掉最后一次提交-此时没有-push-到远程仓库-然后重新提交。"><a href="#因为各种原因-想要取消掉最后一次提交-此时没有-push-到远程仓库-然后重新提交。" class="header-anchor">#</a> 因为各种原因，想要取消掉最后一次提交（此时没有 push 到远程仓库）,然后重新提交。</h4> <p>git commit --amend git reset</p> <h2 id="参考文档"><a href="#参考文档" class="header-anchor">#</a> 参考文档</h2> <ul><li><a href="https://hearrain.com/git-zui-jia-shi-jian-:-yuan-zi-xing-ti-jiao-atomic-commits" target="_blank" rel="noopener noreferrer">Git 最佳实践：原子性提交（atomic commits）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://jartto.wang/2018/12/11/git-rebase/" target="_blank" rel="noopener noreferrer">彻底搞懂 Git-Rebase<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://waynerv.com/posts/git-rebase-intro/" target="_blank" rel="noopener noreferrer">git rebase 用法详解与工作原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/qiqihaobenben/Front-End-Basics/edit/master/docs/git/rebase.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/13/2023, 9:23:13 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.26ddf859.js" defer></script><script src="/assets/js/2.0a0a1bce.js" defer></script><script src="/assets/js/8.5ca23337.js" defer></script>
  </body>
</html>
