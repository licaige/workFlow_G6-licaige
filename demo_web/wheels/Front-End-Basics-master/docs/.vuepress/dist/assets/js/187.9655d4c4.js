(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{673:function(v,_,t){"use strict";t.r(_);var e=t(45),s=Object(e.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"centos-入门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-入门"}},[v._v("#")]),v._v(" CentOS 入门")]),v._v(" "),t("h2",{attrs:{id:"文件管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件管理"}},[v._v("#")]),v._v(" 文件管理")]),v._v(" "),t("h3",{attrs:{id:"根目录下的文件和目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根目录下的文件和目录"}},[v._v("#")]),v._v(" 根目录下的文件和目录")]),v._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/qiqihaobenben/picture/2021-8-31/1630408372889-image.png",alt:""}})]),v._v(" "),t("p",[v._v("根据颜色区分：")]),v._v(" "),t("ul",[t("li",[v._v("蓝色：表示文件夹")]),v._v(" "),t("li",[v._v("灰色：表示普通文件")]),v._v(" "),t("li",[v._v("绿色：表示可执行文件")]),v._v(" "),t("li",[v._v("红色：表示压缩文件")]),v._v(" "),t("li",[v._v("天蓝色：表示链接文件（快捷方式）")])]),v._v(" "),t("p",[v._v("常用的目录：")]),v._v(" "),t("ul",[t("li",[v._v("bin：存放普通用户可执行的指令，普通用户也可以执行；")]),v._v(" "),t("li",[v._v("boot：开机引导目录，包括 Linux 内核文件与开机所需要的文件；")]),v._v(" "),t("li",[v._v("dev：设备目录，所有的硬件设备及周边均放置在这个设备目录中；")]),v._v(" "),t("li",[v._v("home：这里主要存放你的个人数据，具体每个用户的设置文件，用户的桌面文件夹，还有用户的数据都放在这里。每个用户都有自己的用户目录，位置为："),t("code",[v._v("/home/用户名")]),v._v("。当然，root 用户除外；")]),v._v(" "),t("li",[v._v("usr：应用程序放置目录")]),v._v(" "),t("li",[v._v("lib：开机时常用的动态链接库，bin 及 sbin 指令也会调用对应的 lib 库；")]),v._v(" "),t("li",[v._v("tmp：临时文件存放目录；")]),v._v(" "),t("li",[v._v("etc：各种配置文件目录，大部分配置属性均放在在这里；")]),v._v(" "),t("li",[v._v("opt：第三方软件安装目录，现在习惯性的放置在 "),t("code",[v._v("usr/local")]),v._v("中；")]),v._v(" "),t("li",[v._v("var：存放系统执行过程经常改变的文件，其中有一个重要的目录就是 "),t("code",[v._v("/var/log/目录")]),v._v("，主要存放的是系统日志文件。")])]),v._v(" "),t("h3",{attrs:{id:"目录文件相关的命令和快捷键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目录文件相关的命令和快捷键"}},[v._v("#")]),v._v(" 目录文件相关的命令和快捷键")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("命令")]),v._v(" "),t("th",[v._v("作用")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[t("code",[v._v("pwd")])]),v._v(" "),t("td",[v._v("显示当前目录完成路径，shell 脚本中常用")])]),v._v(" "),t("tr",[t("td",[t("code",[v._v("mkdir")])]),v._v(" "),t("td",[v._v("创建目录")])]),v._v(" "),t("tr",[t("td",[t("code",[v._v("touch")])]),v._v(" "),t("td",[v._v("创建文件")])]),v._v(" "),t("tr",[t("td",[t("code",[v._v("rm")]),v._v(" ("),t("code",[v._v("rm -rf")]),v._v(")")]),v._v(" "),t("td",[v._v("删除文件（目录）")])]),v._v(" "),t("tr",[t("td",[t("code",[v._v("rmdir")])]),v._v(" "),t("td",[v._v("删除空文件夹")])]),v._v(" "),t("tr",[t("td",[t("code",[v._v("find")])]),v._v(" "),t("td",[v._v("查找文件")])]),v._v(" "),t("tr",[t("td",[t("code",[v._v("man")]),v._v("/"),t("code",[v._v("info")])]),v._v(" "),t("td",[v._v("获取帮助")])])])]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("快捷键")]),v._v(" "),t("th",[v._v("作用")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("ctrl + u")]),v._v(" "),t("td",[v._v("清空至行首")])]),v._v(" "),t("tr",[t("td",[v._v("ctrl + k")]),v._v(" "),t("td",[v._v("清空至行尾")])]),v._v(" "),t("tr",[t("td",[v._v("ctrl + l")]),v._v(" "),t("td",[v._v("清屏")])]),v._v(" "),t("tr",[t("td",[v._v("ctrl + c")]),v._v(" "),t("td",[v._v("终止执行命令")])])])]),v._v(" "),t("h3",{attrs:{id:"tree-命令查看目录树"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tree-命令查看目录树"}},[v._v("#")]),v._v(" tree 命令查看目录树")]),v._v(" "),t("p",[v._v("系统本身没有安装 "),t("code",[v._v("tree")]),v._v(" 命令，所以要首先安装一下 "),t("code",[v._v("sudo yum -y install tree")])]),v._v(" "),t("h3",{attrs:{id:"查看文件内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看文件内容"}},[v._v("#")]),v._v(" 查看文件内容")]),v._v(" "),t("p",[v._v("除了 vi 可以使用 vim 编辑器打开文件外，还有一些常见的查看文件内容的命令：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("命令")]),v._v(" "),t("th",[v._v("作用")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[t("code",[v._v("more")]),v._v("/"),t("code",[v._v("less")])]),v._v(" "),t("td",[v._v("浏览文件全部内容")])]),v._v(" "),t("tr",[t("td",[t("code",[v._v("cat")]),v._v(" ("),t("code",[v._v("cat -n")]),v._v(")")]),v._v(" "),t("td",[v._v("查看文件内容（显示行号）")])]),v._v(" "),t("tr",[t("td",[t("code",[v._v("grep")]),v._v(" ("),t("code",[v._v("grep <关键字> <要查找的文件> -n")]),v._v(")")]),v._v(" "),t("td",[v._v("在文本文件中查找字符串（显示行号）")])])])]),v._v(" "),t("h3",{attrs:{id:"管道符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#管道符"}},[v._v("#")]),v._v(" 管道符")]),v._v(" "),t("p",[v._v("管道符将一个命令的执行结果作为另一个命令的输入来执行，格式 "),t("code",[v._v("cmd1 | cmd2 ... | cmdn")])]),v._v(" "),t("p",[v._v("例一：将 "),t("code",[v._v("/etc")]),v._v(" 目录中的文件名以 pass 开头的文件列举出来 "),t("code",[v._v("ls /etc | grep pass*")])]),v._v(" "),t("p",[v._v("例二：查看 "),t("code",[v._v("/etc")]),v._v(" 目录下的内容，并使用 less 的形式浏览 "),t("code",[v._v("ls /etc | less")])]),v._v(" "),t("h2",{attrs:{id:"systemctl-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#systemctl-命令"}},[v._v("#")]),v._v(" systemctl 命令")]),v._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("#开机运行服务")]),v._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[v._v("enable")]),v._v(" *.service\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("#取消开机运行")]),v._v("\nsystemctl disable *.service\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("#启动服务")]),v._v("\nsystemctl start *.service\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("#停止服务")]),v._v("\nsystemctl stop *.service\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("#重启服务")]),v._v("\nsystemctl restart *.service\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("#重新加载服务配置文件")]),v._v("\nsystemctl reload *.service\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("#查询服务运行状态")]),v._v("\nsystemctl status *.service\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("#显示启动失败的服务")]),v._v("\nsystemctl --failed\n")])])]),t("h2",{attrs:{id:"进程管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进程管理"}},[v._v("#")]),v._v(" 进程管理")]),v._v(" "),t("p",[v._v("进程是正在执行的一个程序或命令，每一个进程都是一个运行的实体，都有自己的地址空间，并占用一定的系统资源。")]),v._v(" "),t("p",[v._v("进程管理最重要的就是 "),t("code",[v._v("ps")]),v._v(" 命令：")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("ps aux")]),v._v("：查看系统中所有进程，使用 BSD 操作系统格式。")]),v._v(" "),t("li",[t("code",[v._v("ps -le")]),v._v("：查看系统中所有进程，使用 Linux 标准命令格式。")])]),v._v(" "),t("p",[t("code",[v._v("ps aux")]),v._v(" 命令输出大约如下图所示：")]),v._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/qiqihaobenben/picture/2021-9-1/1630462129937-image.png",alt:""}})]),v._v(" "),t("p",[v._v("输出的格式含义：")]),v._v(" "),t("ul",[t("li",[v._v("USER：该进程是由哪个用户产生的；")]),v._v(" "),t("li",[v._v("PID：进程的 ID；")]),v._v(" "),t("li",[v._v("%CPU：进程占 CPU 资源的百分比；")]),v._v(" "),t("li",[v._v("%MEM：进程占用物理内存的百分比；")]),v._v(" "),t("li",[v._v("VSZ：进程占虚拟内存的大小，单位 KB；")]),v._v(" "),t("li",[v._v("RSS：进程占用实际物理内存的大小，单位 KB；")]),v._v(" "),t("li",[v._v("TTY：进程在哪个终端运行的，tty1-tty7 代表本地控制台终端，tty1-tty6 是本地的字符界面终端，tty7 是图形终端，pts/0-255 代表虚拟终端，如果是 ? 则代表是系统进程。")]),v._v(" "),t("li",[v._v("STAT：进程状态，R-运行，S-睡眠，T-停止，s-包含子进程，+-位于后台；")]),v._v(" "),t("li",[v._v("START：进程启动时间；")]),v._v(" "),t("li",[v._v("TIME：进程占用 CPU 的运行时间，注意不是系统时间；")]),v._v(" "),t("li",[v._v("COMMAND：产生此进程的命令名；")])]),v._v(" "),t("h3",{attrs:{id:"pstree"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pstree"}},[v._v("#")]),v._v(" pstree")]),v._v(" "),t("p",[t("code",[v._v("pstree")]),v._v(" 命令，可以显示进程树")]),v._v(" "),t("h3",{attrs:{id:"top"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#top"}},[v._v("#")]),v._v(" top")]),v._v(" "),t("p",[t("code",[v._v("top")]),v._v(" 命令，可以查看系统的健康状态，跟 Windows 系统中的系统管理器类似。")]),v._v(" "),t("p",[t("code",[v._v("top")]),v._v(" 命令的交互模式中可以执行下面的命令（需要注意大小写）：")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("?")]),v._v("/"),t("code",[v._v("h")]),v._v("：显示交互模式的帮助；")]),v._v(" "),t("li",[t("code",[v._v("P")]),v._v("：以 CPU 使用率排序，默认就是此项；")]),v._v(" "),t("li",[t("code",[v._v("M")]),v._v("：以内存的使用率排序；")]),v._v(" "),t("li",[t("code",[v._v("N")]),v._v("：以 PID 排序；")]),v._v(" "),t("li",[t("code",[v._v("q")]),v._v("：退出 "),t("code",[v._v("top")]),v._v(";")])]),v._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/qiqihaobenben/picture/2021-9-1/1630470666169-image.png",alt:""}})]),v._v(" "),t("p",[v._v("参照上图说一些字段的含义：")]),v._v(" "),t("ul",[t("li",[v._v("load average 后面的三个数字的意思，分别为系统在之前 1 分钟，5 分钟，15 分钟的平均负载，一般认为小于 1 时，负载较小。如果大于 1，系统已经超过符合。如果是多核 CPU，那么这个数字应该不大于你的 CPU 核心数，比如双核 CPU 时应该不大于 2。")]),v._v(" "),t("li",[v._v("Tasks 后面的 zombie，意思为僵尸进程，一般是进程无法正常运行，也没有正常退出，通俗的说就是卡住了，也有可能这个进程正在终止过程中，如果稍微等待一下还存在，那么就需要手动检查一下。")]),v._v(" "),t("li",[v._v("%CPU(s)的 id 是比较重要的指标，以为空闲 CPU 的百分比，如果低于 20，那么系统的状态就比较卡了。")])]),v._v(" "),t("h3",{attrs:{id:"杀死进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#杀死进程"}},[v._v("#")]),v._v(" 杀死进程")]),v._v(" "),t("p",[v._v("杀死进程主要有下面几个命令：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("命令")]),v._v(" "),t("th",[v._v("作用")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[t("code",[v._v("kill")])]),v._v(" "),t("td",[v._v("杀死某个进程")])]),v._v(" "),t("tr",[t("td",[t("code",[v._v("killall")])]),v._v(" "),t("td",[v._v("按照进程名杀死进程")])]),v._v(" "),t("tr",[t("td",[t("code",[v._v("pkill")])]),v._v(" "),t("td",[v._v("按照进程名杀死进程，加 "),t("code",[v._v("-t")]),v._v(" 可以按照终端号踢出用户")])])])]),v._v(" "),t("p",[v._v("杀死进程时可以跟信号，常用的信号如下：")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("信号代号")]),v._v(" "),t("th",[v._v("信号名称")]),v._v(" "),t("th",[v._v("说明")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("1")]),v._v(" "),t("td",[v._v("SIGHUP")]),v._v(" "),t("td",[v._v("让进程立即关闭，然后重新读取配置文件之后重启，平滑重启")])]),v._v(" "),t("tr",[t("td",[v._v("2")]),v._v(" "),t("td",[v._v("SIGINT")]),v._v(" "),t("td",[v._v("程序终止信号，用于终止前台进程，相当于 ctrl + c 快捷键")])]),v._v(" "),t("tr",[t("td",[v._v("9")]),v._v(" "),t("td",[v._v("SIGKILL")]),v._v(" "),t("td",[v._v("强制终止，用来立即结束程序的运行，本信号不能被屏蔽、处理和忽略")])]),v._v(" "),t("tr",[t("td",[v._v("15")]),v._v(" "),t("td",[v._v("SIGTERM")]),v._v(" "),t("td",[v._v("正常结束的信号，"),t("code",[v._v("kill")]),v._v(" 命令默认就是这个信号，有时候进程已经发生问题，正常无法终止，此时会使用 "),t("code",[v._v("-9")]),v._v(" 信号")])])])]),v._v(" "),t("h3",{attrs:{id:"修改进程优先级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改进程优先级"}},[v._v("#")]),v._v(" 修改进程优先级")]),v._v(" "),t("p",[v._v("可以使用 "),t("code",[v._v("ps -le | less")]),v._v(" 查看进程的优先级：")]),v._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/qiqihaobenben/picture/2021-9-1/1630491191110-image.png",alt:""}})]),v._v(" "),t("p",[v._v("下面的两个值都是优先级，数字越小代表改进程优先级越高。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("PRI 代表 Priority，用户不能修改")])]),v._v(" "),t("li",[t("p",[v._v("NI 代表 Nice，用户可以修改，NI 值的返回是-20 到 19，普通用户调整 NI 值的范围是 0-19，并且只能调整自己的进程，root 用户才能设定进程 NI 值为负值。")])])]),v._v(" "),t("p",[v._v("可以使用 "),t("code",[v._v("nice")]),v._v(" 命令来修改优先级，"),t("code",[v._v("nice <选项> 命令")]),v._v("，选项 "),t("code",[v._v("-n 值")]),v._v(" 给命令赋予 NI 值。nice 命令可以给新执行的命令直接赋予 NI 值，但是不能修改已存在的 NI 值的进程。例如，修改 apache 的进程优先级 "),t("code",[v._v("nice -n 5 service httpd start")]),v._v("。")]),v._v(" "),t("p",[v._v("如果要修改已存在的进程的优先级，需要使用 "),t("code",[v._v("renice")]),v._v(" 命令， "),t("code",[v._v("renice <优先级> PID")]),v._v("，PID 为某一个进程的 ID。例如："),t("code",[v._v("renice -10 2125")]),v._v(" 修改 ID 2125 的进程 NI 值为 -10。")]),v._v(" "),t("h2",{attrs:{id:"工作管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工作管理"}},[v._v("#")]),v._v(" 工作管理")]),v._v(" "),t("ul",[t("li",[v._v("当前的登录终端，只能管理当前终端的工作，而不能管理其他登录终端的工作；")]),v._v(" "),t("li",[v._v("放入后台的命令必须可以持续运行一段时间，这样我们才能捕捉和操作这个工作；")]),v._v(" "),t("li",[v._v("放入后台执行的命令不能和前台用户有交互或者需要前台输入，否则放入后台只能暂停，而不能执行；")])]),v._v(" "),t("h3",{attrs:{id:"把进程放入后台有两个主要命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#把进程放入后台有两个主要命令"}},[v._v("#")]),v._v(" 把进程放入后台有两个主要命令：")]),v._v(" "),t("ol",[t("li",[t("code",[v._v("<命令> &")]),v._v(" 把命令放入后台，并在后台执行")]),v._v(" "),t("li",[t("code",[v._v("<命令>")]),v._v(" 执行后按下 ctrl + z 快捷键，放入后台暂停")])]),v._v(" "),t("p",[v._v("查看正在后台的工作，可以使用 "),t("code",[v._v("jobs [-l]")]),v._v(" 命令， "),t("code",[v._v("-l")]),v._v(" 是显示工作的 PID。")]),v._v(" "),t("h3",{attrs:{id:"恢复操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#恢复操作"}},[v._v("#")]),v._v(" 恢复操作：")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("fg %工作号")]),v._v(" 将后台暂停的工作恢复到前台执行，这里的 % 可以省略，不过要注意工作号和 PID 的区别（工作号类似于 1，2 这样的序号）；")]),v._v(" "),t("li",[t("code",[v._v("bg %工作号")]),v._v(" 将后台暂停的工作恢复到后台执行，后台恢复执行的命令，是不能和前台有交互的，否则不能恢复到后台执行；")])]),v._v(" "),t("h3",{attrs:{id:"让程序始终在后台执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#让程序始终在后台执行"}},[v._v("#")]),v._v(" 让程序始终在后台执行")]),v._v(" "),t("p",[v._v("如果让程序始终在后台执行，及时关闭当前的终端也执行（之前的 "),t("code",[v._v("&")]),v._v(" 做不到），有以下三种方法可以实现：")]),v._v(" "),t("ol",[t("li",[v._v("把需要后台执行的命令加入 "),t("code",[v._v("/etc/rc.local")]),v._v(" 文件；")]),v._v(" "),t("li",[v._v("使用系统定时任务，让系统在指定的时间执行某个后台命令；")]),v._v(" "),t("li",[v._v("使用 "),t("code",[v._v("nohup")]),v._v(" 命令，该命令可以是在你退出账户/关闭终端之后继续运行相应的进程")])]),v._v(" "),t("p",[t("code",[v._v("nohup")]),v._v(" 命令的使用方法 "),t("code",[v._v("nohup <命令> &")]),v._v(" ，nohup.out 日志可以使用 "),t("code",[v._v("tail -fn nohub.out")]),v._v(" 查看")]),v._v(" "),t("p",[v._v("关闭终端后，在另一个终端 "),t("code",[v._v("jobs")]),v._v(" 已经无法看到后台跑的程序了，此时利用 "),t("code",[v._v("ps aux")]),v._v(" 可以看到所有进程。")]),v._v(" "),t("p",[v._v("关于前台后台进程切换，可以查看："),t("a",{attrs:{href:"https://www.cnblogs.com/geogre123/p/10643152.html",target:"_blank",rel:"noopener noreferrer"}},[v._v("Linux 程序前台后台切换"),t("OutboundLink")],1)]),v._v(" "),t("h3",{attrs:{id:"推荐阅读"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#推荐阅读"}},[v._v("#")]),v._v(" 推荐阅读")]),v._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/46279950",target:"_blank",rel:"noopener noreferrer"}},[v._v("CentOS 根目录下各目录介绍"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);_.default=s.exports}}]);