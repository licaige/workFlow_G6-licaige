(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{475:function(e,t,s){e.exports=s.p+"assets/img/el-github.265edfe0.jpg"},476:function(e,t,s){e.exports=s.p+"assets/img/el-scrollbar.7357ae77.gif"},477:function(e,t,s){e.exports=s.p+"assets/img/run-dist.bb0b8783.jpg"},478:function(e,t,s){e.exports=s.p+"assets/img/scrollbar-index.b964e256.png"},479:function(e,t,s){e.exports=s.p+"assets/img/1.b7f3589f.png"},480:function(e,t,s){e.exports=s.p+"assets/img/2.58f6b6b5.png"},481:function(e,t,s){e.exports=s.p+"assets/img/3.13bc305f.png"},667:function(e,t,s){"use strict";s.r(t);var r=s(45),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"vue的自定义滚动-我用el-scrollbar"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue的自定义滚动-我用el-scrollbar"}},[e._v("#")]),e._v(" Vue的自定义滚动，我用el-scrollbar")]),e._v(" "),r("h2",{attrs:{id:"为什么要用el-scrollbar"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#为什么要用el-scrollbar"}},[e._v("#")]),e._v(" 为什么要用el-scrollbar？")]),e._v(" "),r("p",[e._v("最近在写一个内部平台系统，相信大家都知道，其中会有很多自定义的滚动区域，就比如说现在有一个列表需要滚动，第一个念头就是用 "),r("code",[e._v("overflow: scroll;")]),e._v(" 啊！嗯嗯，又不是不能用！如果我不曾见过太阳，我本可以忍受黑暗。\n"),r("br")]),e._v(" "),r("p",[e._v("大家总会见过不少滚动条比较优雅的实现，不可否认，美是让人愉悦的。所以这些年行走江湖我满怀愧疚，让大家见丑了。\n"),r("br")]),e._v(" "),r("p",[e._v("为什么要用el-scrollbar，大家都知道，模拟一个滚动不难，而且市面上有很多这样的库。我考虑的，首先项目用的框架是Vue，然后用的组件库是Element，Element官网也有很多滚动，而且像是Select组件的下拉框也是有滚动的，所以就不用想选择什么了，简简单单的就用Element自己的scrollbar吧，也不用再引入什么别的包或者文件之类的。\n"),r("br")]),e._v(" "),r("p",[e._v("看Element的官网是不可能发现Scrollbar这个组件的，没有使用文档，但是可以直接使用。")]),e._v(" "),r("h2",{attrs:{id:"为什么要写这一篇文章"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#为什么要写这一篇文章"}},[e._v("#")]),e._v(" 为什么要写这一篇文章？")]),e._v(" "),r("ul",[r("li",[e._v("第一，有段时间没写东西了，先热热手；")]),e._v(" "),r("li",[e._v("第二，真的有同学不知道怎么用，可能主要是没有文档吧~")])]),e._v(" "),r("p",[r("img",{attrs:{src:s(475),alt:"el-github"}})]),e._v(" "),r("h2",{attrs:{id:"先来看看它的样子。"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#先来看看它的样子。"}},[e._v("#")]),e._v(" 先来看看它的样子。")]),e._v(" "),r("p",[r("img",{attrs:{src:s(476),alt:""}})]),e._v(" "),r("p",[e._v("看了效果，接着来看一下怎么找到这个组件，官方没有提供文档，但确实是直接可用的一个组件。为什么这么说，这个一会再聊。先稍微看一下Element项目一些基本的概念。\n"),r("br")]),e._v(" "),r("p",[e._v("在Element的贡献指南里说了开发环境搭建和打包代码的指令。打包代码用 "),r("code",[e._v("npm run dist")]),e._v(" ,我们去"),r("code",[e._v("package.json")]),e._v("中可以看到这个指令具体的操作。")]),e._v(" "),r("p",[r("img",{attrs:{src:s(477),alt:""}})]),e._v(" "),r("p",[e._v("我们简单看一下"),r("code",[e._v("build/webpack.conf.js")]),e._v("这个文件，会发现打包的文件入口是"),r("code",[e._v("./src/index.js")]),e._v(",我们再去看一下这个文件。里面内容除了包含给vue安装插件，原型上挂载对象之类的操作外，就是用插件的方式把Element组件给注册完成，当然也暴露出用安装包方式安装后要用的所有方法和属性。其实我们已经看到了"),r("code",[e._v("Scrollbar")]),e._v("的身影。再循着去看一下"),r("code",[e._v("packages/scrollbar/index.js'")]),e._v("这个文件，简单的把这个组件引入后，添加了一个install方法，提供给Vue的use方法使用，然后就直接export出来了。")]),e._v(" "),r("p",[r("img",{attrs:{src:s(478),alt:""}})]),e._v(" "),r("p",[e._v("去"),r("code",[e._v("src/main.js")]),e._v("这个文件，看一下组件接收的props:")]),e._v(" "),r("p",[r("img",{attrs:{src:s(479),alt:""}})]),e._v(" "),r("p",[r("strong",[e._v("native属性")]),e._v("：如果为"),r("code",[e._v("true")]),e._v("就不显示el的bar，也就是el模拟出来的滚动条，如果为"),r("code",[e._v("false")]),e._v("就显示模拟的滚动条\n"),r("br")]),e._v(" "),r("p",[e._v("关于tag这个属性，可以看一下el的Select组件中的应用。")]),e._v(" "),r("p",[r("img",{attrs:{src:s(480),alt:""}})]),e._v(" "),r("p",[e._v("画个图表示一下view和wrap这两个区域的区别：")]),e._v(" "),r("p",[r("img",{attrs:{src:s(481),alt:""}})]),e._v(" "),r("h2",{attrs:{id:"尝试用一下"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#尝试用一下"}},[e._v("#")]),e._v(" 尝试用一下")]),e._v(" "),r("p",[e._v("展示的链接："),r("a",{attrs:{href:"https://jsfiddle.net/chenfangxu/jfn5gzcw/",target:"_blank",rel:"noopener noreferrer"}},[e._v("el-scrollbar试用"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("考虑到有些同学有时会打不开上面的链接，把代码贴出来。")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('HTML\n\n<script src="//unpkg.com/vue/dist/vue.js"><\/script>\n<script src="//unpkg.com/element-ui@2.3.9/lib/index.js"><\/script>\n<div id="app">\n  <h2>list:</h2>\n  <el-scrollbar wrap-class="list" wrap-style="color: red;" view-style="font-weight: bold;" view-class="view-box" :native="false">\n    <div v-for="value in num" :key="vlaue">\n      {{value}}\n    </div>\n  </el-scrollbar>\n</div>\n\n\nCSS\n\n@import url("//unpkg.com/element-ui@2.3.9/lib/theme-chalk/index.css");\n#app {\n  height: 300px;\n  overflow: hidden;\n}\n/*展示列表的区域，超过200px出现滚动条*/\n.list {\n  max-height: 200px;\n}\n\n\nJavaScript\n\nnew Vue({\n  el: "#app",\n  data: {\n    num: 30\n  }\n})\n')])])]),r("p",[e._v("Element UI官方说不准什么时候就更新文档了，不过，真的可能是因为太简单了。")])])}),[],!1,null,null,null);t.default=a.exports}}]);