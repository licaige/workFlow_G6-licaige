## 索引
索引是帮助 mysql 高效获取数据的数据结构。
在关系型数据库中最终要存储在磁盘或者硬盘。

hash 索引：mysql 会自己维护
放在内存中
不适合排序、范围索引


平衡搜索树（退化成线性表） --- AVL平衡二叉树（IO次数变多，数据多树就高，目标数据少的话就浪费） --- B-Tree（多路搜索树、多叉平衡查找树）

mysql 用的 B+ Tree，扫库扫表能力更强，平均搜寻次数稳定、排序和范围查找能力强


## 分库分表的意义
提升访问速度
缓解数据库的压力
提升存储的容量


## reids 挂了，流量把数据库也打挂了
https://www.toutiao.com/i6991681691366474248/?share_token=41a17d4a-1eed-466a-876a-53e8eb231992&only_rec=1&wid=1629167820806

- 重启服务罗，不过重启之前，先把流量引流到一个精心设计的错误页面（比如简单粗暴的通过 nginx 转发所有请求），防止启动一个打挂一个
- 要是启动之后还是扛不住（缓存 + 拆分 + 加钱 + 事前预防）
